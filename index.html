<!DOCTYPE html><html class="theme-next muse use-motion" lang=""><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="Hexo, NexT"><meta name="description" content="Thoughts, stories and ideas."><meta property="og:type" content="website"><meta property="og:title" content="Mr.KR的小站"><meta property="og:url" content="http://yoursite.com/index.html"><meta property="og:site_name" content="Mr.KR的小站"><meta property="og:description" content="Thoughts, stories and ideas."><meta property="og:locale" content="default"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Mr.KR的小站"><meta name="twitter:description" content="Thoughts, stories and ideas."><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://yoursite.com/"><title>Mr.KR的小站</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?991306c1e21252286edd0bd46a5321fa";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="default"><div class="container sidebar-position-left page-home"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Mr.KR的小站</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> Archives</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><section id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/18/git常用操作/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Mr.KR"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Mr.KR的小站"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2018/04/18/git常用操作/" itemprop="url">git常用命令</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-18T17:30:47+08:00">2018-04-18</time></span> <span id="/2018/04/18/git常用操作/" class="leancloud_visitors" data-flag-title="git常用命令"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">Visitors&#58;</span><span class="leancloud-visitors-count"></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">Words count in article&#58;</span> <span title="Words count in article">1,086</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">Reading time &asymp;</span> <span title="Reading time">5</span></div></div></header><div class="post-body" itemprop="articleBody"><p>##git常用命令</p><p>由于之前公司用的是scourceTree，所以不经常用git命令行去操作gitlab，新公司项目组比较大，分支较多，scourceTree卡的不要不要的，故而总结下git命令行操作，方便工作，有需要自取。只是简单总结使用方法，适合了解过git的用户查漏补缺。</p><p>fetch操作：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git fetch</span><br></pre></td></tr></table></figure><p>git拉取远程分支：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b 本地分支名 origin/远程分支名</span><br></pre></td></tr></table></figure><p>git创建本地分支：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b 新分支名</span><br></pre></td></tr></table></figure><p>git查看本地/所有分支：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br><span class="line">git branch -a</span><br></pre></td></tr></table></figure><p>git切换分支：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout branchName</span><br></pre></td></tr></table></figure><p>git重命名本地分支：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -m oldName newName</span><br></pre></td></tr></table></figure><p>git本地分支推送到远程分支：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a,没有同名的远程分支，创建一个新的远程分支</span><br><span class="line">git push origin branchName</span><br><span class="line">git push origin branchName:branchName</span><br><span class="line"></span><br><span class="line">b,推送到指定的远程分支</span><br><span class="line">git push origin branchName:targetName</span><br></pre></td></tr></table></figure><p>git删除本地、远程分支：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a，删除本地分支</span><br><span class="line">git branch -d branchName</span><br><span class="line">git branch -D branchName(有未合并时强制删除)</span><br><span class="line"></span><br><span class="line">b，删除远程分支</span><br><span class="line">git push origin --delete branchName</span><br></pre></td></tr></table></figure><p>git rebase操作：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">git rebase branchName (表示rebase一个branchName分支到当前分支)</span><br><span class="line"></span><br><span class="line">rebase有冲突的时候，使用“git status”查看哪个文件有冲突，打开对应文件解决冲突后，继续rebase：</span><br><span class="line">git add -u</span><br><span class="line">git rebase --continue</span><br><span class="line"></span><br><span class="line">注⚠️：</span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; 表示冲突代码开始位置</span><br><span class="line">======= 表示冲突代码分割位置</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; 表示冲突代码结束位置</span><br><span class="line"></span><br><span class="line">如果rebase过程中，想中途退出，恢复之前的代码可使用--abort</span><br><span class="line">git rebase --abort</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">流程：</span><br><span class="line">git rebase xxx</span><br><span class="line">while( 有冲突 ) &#123;</span><br><span class="line">    git status</span><br><span class="line">    找到冲突所在文件，解决冲突</span><br><span class="line">    git add -u</span><br><span class="line">    git rebase --continue</span><br><span class="line">    if (git branch --abort)</span><br><span class="line">        break;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>git merge操作：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch</span><br><span class="line">git merge aaa</span><br></pre></td></tr></table></figure><p>git reset操作：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">回退一个版本：</span><br><span class="line">git reset HEAD^</span><br><span class="line"></span><br><span class="line">回退n个版本：</span><br><span class="line">git reset HEAD~n</span><br><span class="line"></span><br><span class="line">注⚠️：回退参数：</span><br><span class="line">soft： git reset --soft HEAD~1，软回退一个版本，所谓软回退是指本地版本库的头指针全部重置到指定版本，且将本次提交之后的所有变更都移动到暂存区。</span><br><span class="line"></span><br><span class="line">mixed：git reset HEAD~1，回退一个版本，就是指本地版本库的头指针全部重置到指定版本，且会重置暂存区，即这次提交之后的修改都移动到未暂存阶段。</span><br><span class="line"></span><br><span class="line">hard：git reset --hard HEAD~1，硬回退一个版本，就是指将本地版本库的头指针全部重置到指定版本，且不仅会重置暂存区，还会将工作区代码也退回到这个版本。</span><br></pre></td></tr></table></figure><p>git追加提交：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">追加提交的情况：</span><br><span class="line">a，对未merge的提交不满意，希望修改其中某些信息，如代码，提交描述等，可以使用&quot;git commit —amend”进行追加提交，有优点是不会产生新的commit id。</span><br></pre></td></tr></table></figure><p>git丢弃本地修改：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout . (只放弃本地修改，新增、删除并没有恢复过来)</span><br><span class="line"></span><br><span class="line">git checkout . &amp;&amp; git clean -df (可以放弃所有的修改、添加、删除)</span><br><span class="line"></span><br><span class="line">注⚠️：git clean -df中，-d表示同时移除目录，-f表示force。因为在git配置文件中，clean.requireForce=true, 如果不加-f，clean将会拒绝进行。</span><br></pre></td></tr></table></figure><p>git暂存</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git stash可用来暂存当前正在进行的工作，返回到上一个commit。比如为了修复一个bug，先stash，使自己返回到上一个commit，改完bug之后再stash pop，继续原来的工作：</span><br><span class="line"></span><br><span class="line">流程：</span><br><span class="line">git stash save “xxx” （暂存，暂存信息为xxx）</span><br><span class="line">// do sth</span><br><span class="line">git stash list                 (list stashed changes in this git )</span><br><span class="line">git show stash@&#123;0&#125;             (see the last stash )</span><br><span class="line">git stash pop                  (apply last stash and remove it from the list)</span><br><span class="line">git stash apply stash@&#123;1&#125;      (apply first stash)</span><br><span class="line">git stash clear                (clear stash)</span><br><span class="line">git stash --help</span><br></pre></td></tr></table></figure><p>git黑魔法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">今天使用sourceTree提交代码的时候，commit之后未submit，直接rebase主分支代码，完了发现自己本地做的修改都没了，且远程没有本地分支。google之后发现有一个简单方法可以恢复到本地commit版本. 类似情况可用如下操作：</span><br><span class="line">git reflog show develop (查找develop分支所有操作日志)</span><br><span class="line">git reset --hard develop@&#123;4&#125;</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/31/小站开张大吉/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Mr.KR"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Mr.KR的小站"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> <a class="post-title-link" href="/2018/03/31/小站开张大吉/" itemprop="url">小站开张大吉</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-31T12:10:13+08:00">2018-03-31</time></span> <span id="/2018/03/31/小站开张大吉/" class="leancloud_visitors" data-flag-title="小站开张大吉"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">Visitors&#58;</span><span class="leancloud-visitors-count"></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">Words count in article&#58;</span> <span title="Words count in article">39</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">Reading time &asymp;</span> <span title="Reading time">1</span></div></div></header><div class="post-body" itemprop="articleBody"><p>欢迎大家来到柿子哥哥小站，本小站用来记录柿子哥哥的一些技术笔记和生活感悟，欢迎订阅！</p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article></section></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview-wrap sidebar-panel sidebar-panel-active"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Mr.KR</p><p class="site-description motion-element" itemprop="description">Thoughts, stories and ideas.</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">2</span> <span class="site-state-item-name">posts</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/lxd2502" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="https://blog.ibireme.com/" title="Garan no Dou" target="_blank">Garan no Dou</a></li><li class="links-of-blogroll-item"> <a href="https://onevcat.com/#blog" title="喵神" target="_blank">喵神</a></li><li class="links-of-blogroll-item"> <a href="http://blog.sunnyxx.com/" title="sunnyxx" target="_blank">sunnyxx</a></li><li class="links-of-blogroll-item"> <a href="http://mrpeak.cn/" title="MrPeak杂货铺" target="_blank">MrPeak杂货铺</a></li></ul></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">Mr.KR</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i></span> <span class="post-meta-item-text">Site words total count&#58;</span> <span title="Site words total count">1.1k</span></div><div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div> <span class="post-meta-divider">|</span><div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script><script>AV.initialize("SVTWCFi0WxlzpCUOODliRot7-gzGzoHsz","lg7TUz1LeLG3i46KwPvSsly0")</script><script>function showTime(e){var t=new AV.Query(e),c=[],u=$(".leancloud_visitors");u.each(function(){c.push($(this).attr("id").trim())}),t.containedIn("url",c),t.find().done(function(e){var t=".leancloud-visitors-count";if(0!==e.length){for(var n=0;n<e.length;n++){var o=e[n],i=o.get("url"),s=o.get("time"),r=document.getElementById(i);$(r).find(t).text(s)}for(n=0;n<c.length;n++){i=c[n],r=document.getElementById(i);var l=$(r).find(t);""==l.text()&&l.text(0)}}else u.find(t).text(0)}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(i){var e=$(".leancloud_visitors"),s=e.attr("id").trim(),r=e.attr("data-flag-title").trim(),t=new AV.Query(i);t.equalTo("url",s),t.find({success:function(e){if(0<e.length){var t=e[0];t.fetchWhenSave(!0),t.increment("time"),t.save(null,{success:function(e){$(document.getElementById(s)).find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var n=new i,o=new AV.ACL;o.setPublicReadAccess(!0),o.setPublicWriteAccess(!0),n.setACL(o),n.set("title",r),n.set("url",s),n.set("time",1),n.save(null,{success:function(e){$(document.getElementById(s)).find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):1<$(".post-title-link").length&&showTime(e)})</script></body></html>